package main

import (
	"bufio"
	"fmt"
	"os"
	"social_network/internal/config"
	"sync/atomic"
)

func main() {
	var err error
	var ops uint64
	svc := config.GetSvc()
	svc.DB.Ping()
	query := `INSERT INTO test (id, dummy1, dummy2, dummy3, dummy4, dummy5, dummy6) VALUES (?, ?, ?, ?, ?, ?, ?);`
	dummy := "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"

	for i :=0; i < 6; i++ {
		go func() {
			for {
				atomic.AddUint64(&ops, 1)
				_, err = svc.DB.Exec(query, ops, dummy, dummy, dummy, dummy, dummy, dummy)
				if err != nil {
					fmt.Println("last id", ops, err)
					panic(ops)
				}
				fmt.Println(ops)

			}
		}()
	}


	scanner := bufio.NewScanner(os.Stdin)
	for scanner.Scan() {
		fmt.Println(scanner.Text())
	}

	if scanner.Err() != nil {
		// handle error.
	}

}
